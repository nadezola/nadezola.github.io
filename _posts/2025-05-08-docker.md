---
layout: post
title:  "Docker in Practice"
date:   2025-05-08
categories: DevTools
---

## Getting Started with Docker: A Brief and Practical Introduction

Docker allows you to deploy apps without setup difficulties or dependency issues. 
It packages everything into portable containers that run stable across environments. 
Simplify your deployment, scale applications, and ensure consistent behavior!

### Docker Hub

+ A public registry (platform) for downloading **docker image** (_Dockerfile_)
+ Read-only platform
+ _Ex.:_ An image that includes _Ubuntu with CUDA 10.2 pre-installed_

### The Docker Pipeline

<img src="/assets/posts/docker-1.png" style="display: block; margin: 0 auto;"/>

<br>
### ✅  Simple Start from a Dockerfile

+ **Build** a **docker image** from Dockerfile and tag it as 'towards-simple-world':

```bash
docker build -t towards-simple-world docker/    # 'docker/' is the folder where the Dockerfile is located   

# or (if the Dockerfile uses arguments):
docker build --build-arg IMAGE_NAME=nvidia/cuda -t towards-simple-world docker/  
```

+ **Run** a **docker container** from the docker image:

```bash
docker run --rm                          # Automatically remove the container when it exits
           --gpus all                    # Give the container access to all available GPUs 
           -v $(pwd)/:/app               # Mount current directory to /app in the container
           -w /app                       # Set working directory to /app
           -ti towards-simple-world      # Use tagged Docker image
           /bin/bash                     # Open the bash shell inside the starting container
```

+ **Run** a **python program** inside the docker container:

```bash
python file.py  # The container is running, now you can execute the Python file
```
<br>
### ✅ Docker in PyCharm with Debugging Support


To debug and run the program in PyCharm as usual, you need to create the correct **Python Interpreter**.

+ Open Interpreter Settings
  - Go to **File → Settings** (`Ctrl + Alt + S`)
  - Navigate to **Project → Python Interpreter**
  - Click **Add Interpreter** → select **Docker**

+ Configure Docker Interpreter
  + **Image**: select the desired docker image  
  + **Python Interpreter Path**: `python`  
  + **Interpreter Type**: `Remote Python Docker`

+ Configure Run/Debug Configuration
  - Go to **Run → Edit Configurations**
  - Click **Add New** → choose **Python**
  - Set up as usual, but make sure to select the docker interpreter
  - **Working directory**: `/app`
  - **Path mappings**:  
    - Project root → `/app`

+ Docker Container Settings
  - Click the **Configuration** button in Docker settings
  - Add docker run options:
  ```
    --rm --gpus all -v $(pwd)/:/app  -w /app
  ```


